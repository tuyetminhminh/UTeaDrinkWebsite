<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org"
      th:replace="~{fragments/admin-layout :: adminLayout(~{::title}, ~{::content})}">
<head>
  <meta charset="UTF-8">
  <title th:text="${form.id==null? 'Thêm topping' : 'Sửa topping'}">Topping</title>
</head>
<body>
<div th:fragment="content" class="container-fluid p-0">

  <div th:replace="~{fragments/breadcrumbs ::
      bc('Trang chủ', @{/admin/home}, 'Topping', @{/admin/toppings},
         (form.id==null? 'Thêm' : 'Sửa'))}"></div>

  <h3 class="fw-bold mb-3" th:text="${form.id==null? '➕ Thêm topping' : '✏️ Sửa topping'}"></h3>

  <form th:action="${form.id == null} ? @{/admin/toppings} : @{/admin/toppings/{id}(id=${form.id})}"
      method="post" th:object="${form}" class="row g-3">

    <div th:if="${#fields.hasGlobalErrors()}" class="col-12">
      <div class="alert alert-danger mb-0">
        <ul class="mb-0">
          <li th:each="e : ${#fields.globalErrors()}" th:text="${e}"></li>
        </ul>
      </div>
    </div>

    <div class="col-md-4">
      <label class="form-label">Cửa hàng *</label>
      <select class="form-select" th:field="*{shopId}">
        <option value="" disabled selected>-- Chọn shop --</option>
        <option th:each="s : ${shops}" th:value="${s.id}" th:text="${s.name}"></option>
      </select>
      <div class="text-danger small" th:errors="*{shopId}"></div>
    </div>

    <div class="col-md-4">
      <label class="form-label">Tên topping *</label>
      <input class="form-control" th:field="*{name}">
      <div class="text-danger small" th:errors="*{name}"></div>
    </div>

    <div class="col-md-4">
      <label class="form-label">Giá *</label>
      <input type="number" step="0.01" min="0" class="form-control" th:field="*{price}">
      <div class="text-danger small" th:errors="*{price}"></div>
    </div>

    <div class="col-md-4">
      <label class="form-label">Trạng thái</label>
      <select class="form-select" th:field="*{status}">
        <option value="ACTIVE">ACTIVE</option>
        <option value="INACTIVE">INACTIVE</option>
      </select>
    </div>

    <div class="col-12 d-flex gap-2">
        <button class="btn btn-primary">Lưu</button>
      <a class="btn btn-outline-secondary" th:href="@{/admin/toppings}">Hủy</a>
      
    </div>
  </form>
</div>
</body>
</html>
